<!DOCTYPE html>
<html>
<head>
<link href="css/bootstrap.min.css" rel="stylesheet">
<link href="css/custom.css" rel="stylesheet">
</head>

<body>
	<nav class="navbar navbar-inverse navbar-fixed-top">

  <ul class="nav navbar-nav">
    <li><a href="#home">Home</a></li>
     <li>
     <a href="#about" onclick = $("#menu-close").click(); >About</a>
    </li>
         <li>
     <a href="#projects" onclick = $("#menu-close").click(); >Projects</a>
    </li>
    <li>
    <a href="#experience" onclick = $("#menu-close").click(); >Experience</a>
    </li>
    <li>
    <a href="#education" onclick = $("#menu-close").click(); >Education</a>
    </li>
    <li>
    <a href="#jobMap" onclick = $("#menu-close").click(); >Map</a>
    </li>
    <li>
    <a href="#contact" onclick = $("#menu-close").click(); >Contact</a>
    </li>
</ul>
</nav>
<!-- Header -->
<!-- <header id="home" class="header">
    <div class="text-vertical-center">
        <h1>Michael Chan's Portfolio</h1>
        <h3>blab &amp; blah</h3>
        <br>
        <a href="#contact" class="btn btn-dark btn-lg">Contact me</a>
    </div>
</header> -->

<section id="about" class = "about borders">
<div class="container">
  <div class = "row text-center">
  <div class = "col-lg-12"> </div>
  
  <h2>ABOUT</h2>
 <!--  <hr class = "small"> 
 -->  <p> Lorem ipsum dolor sit amet, consectetur adipisicing elit,
    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim 
    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
 
  </div> <!-- col -->
  </div> <!-- row -->
</div> <!-- container -->
</section>

<section id="projects" class ="projects borders">
<div class="container">
  <div class = "row text-center">
  <div class = "col-lg-10 col-lg-offset-1">
  <h2>Projects</h2>
  <p> Lorem ipsum dolor sit amet, consectetur adipisicing elit,
    sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim 
    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
</div><!--col 10-->
</div> <!-- row text-->
</div> <!--container-->
</section>

<!-- Map -->
<h2>Places I've worked</h2>
 <section id="jobMap" style = "height:500px;" class="map borders">
	<div id="jobMap" >

	</div>
 </section>

 <script src="js/jquery.js"></script> 
  <script src="js/bootstrap.min.js"></script>
   
  

    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDGcFR4sN8xW_8EjEc-7_EVyDTaFKnmfzY&callback=initMap"
  type="text/javascript"></script>

<script>
    var markers = [
	{	
		"title": 'Melwani & Chan LLP',
		"date": '2012 to Present',
		"lat": '40.773609', 
		"lng": '-73.989434',
		"position":'Partner',
		"description":'Legal eagle'
	},
	{	
		"title": 'Magnum Water Technolgy Ltd',
		"date": '2011',
		"lat": '31.222000', 
		"lng": '121.493232',
		"position":'Consultant',
		"description":'stuff stuff'
	},
		{	
		"title": 'East West Bank',
		"date": '2009-2010',
		"lat": '37.794590', 
		"lng": '-122.403342',
		"position":'Corporate Counsel',
		"description":'Legal eagle'
	}
	
// 		{
// 		"title": 'Law Office of Michael Chan',
// 		"date": '2008-2009',
// 		"lat": '40.764528', 
// 		"lng": '-73.979632',
// 		"position":'Solo',
// 		"description":'Legal eagle'
// 	},
// 	{
// 		"title": 'Anthony Arther & Associates',
// 		"date": '2006-2007',
// 		"lat": '40.759568', 
// 		"lng": '-73.981960',
// 		"position":'Associate',
// 		"description":'Legal eagle'
// 	}
];
    window.onload = function () {
        initMap();
    }
    function initMap() {
        var mapOptions = {
            center: new google.maps.LatLng(markers[2].lat, markers[2].lng),
            zoom: 2,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("jobMap"), mapOptions);
 
        //Create and open InfoWindow.
        var infoWindow = new google.maps.InfoWindow();
 
        for (var i = 0; i < markers.length; i++) {
            var data = markers[i];
            var myLatlng = new google.maps.LatLng(data.lat, data.lng);
            var marker = new google.maps.Marker({
                position: myLatlng,
                map: map,
                title: data.title + " " +"(click for more info)",
                optimized: false  
                //needed to set to false for tooltip to work in firefox
            });
 
            //Attach click event to the marker.
            (function (marker, data) {
                google.maps.event.addListener(marker, "click", function (e){
                    //map zooms in to location
                    map.setZoom(15);
                    
                    //Wrap infoWindow inside a div
                    infoWindow.setContent("<div style = 'width:200px;min-height:40px'>" + data.title +"</br>" + data.date +"</br>" + data.position +"</br>" + data.description + "</div>");
                    infoWindow.open(map, marker);
                });
            })(marker, data);//(marker,data) loads function
        //close info window, reload to original map
           google.maps.event.addListener(infoWindow,'closeclick',function(){
           //reload the map function
           	initMap();
           	});
            
        }
    }
</script>
</body>
</html>